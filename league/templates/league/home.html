{% extends "league/base.html" %}
{% load bootstrap4 %}

{% block content %}

    <h1>LEAGUE</h1>

    <p>
        <a href="{% url 'league' 'scottish' %}">Scotland</a> :
        <a href="{% url 'league' 'england' %}">England</a> :
        <a href="{% url 'league' 'wales' %}">Wales</a> :
        <a href="{% url 'league' 'ni' %}">Northern Ireland</a>
    </p>

    <p>
        <a href="{% url 'league' 'unitary' %}">Unitary</a> :
        <a href="{% url 'league' 'district' %}">District</a> :
        <a href="{% url 'league' 'london' %}">London</a> :
        <a href="{% url 'league' 'county' %}">County</a> :
        <a href="{% url 'league' 'combined' %}">Combined</a>
    </p>

    <p>
    <form method="GET">
        {{ form }}
         <input type="submit" value="Sort">
    </form>


    <table class="table mb-0">
        <thead>
            <tr>
                <th>Council</th>
                <th>Total</th>
                <th>Governance</th>
                <th>Mitigation</th>
                <th>Commitment</th>
                <th>Community</th>
                <th>Measuring</th>
                <th>Co-benefits</th>
                <th>Diversity</th>
                <th>Education</th>
                <th>Ecological</th>
            </tr>
        </thead>
        <tbody>
        {% for council in council_data %}
        <tr>
            <td>
                <a href="{% url 'answers' council.slug %}">{{ council.name }}</a>
            </td>
            <td>
                {{ council.score }}
            </td>
            {% with scores=council.all_scores %}
            <td>
                {{ scores.s1_gov.score }}/{{ scores.s1_gov.max }}
            </td>
            <td>
                {{ scores.s2_m_a.score }}/{{ scores.s2_m_a.max }}
            </td>
            <td>
                {{ scores.s3_c_a.score }}/{{ scores.s3_c_a.max }}
            </td>
            <td>
                {{ scores.s4_coms.score }}/{{ scores.s4_coms.max }}
            </td>
            <td>
                {{ scores.s5_mset.score }}/{{ scores.s5_mset.max }}
            </td>
            <td>
                {{ scores.s6_cb.score }}/{{ scores.s6_cb.max }}
            </td>
            <td>
                {{ scores.s7_dsi.score }}/{{ scores.s7_dsi.max }}
            </td>
            <td>
                {{ scores.s8_est.score }}/{{ scores.s8_est.max }}
            </td>
            <td>
                {{ scores.s9_ee.score }}/{{ scores.s9_ee.max }}
            </td>
            {% endwith %}
        </tr>
        {% endfor %}
        </tbody>
    </table>

{% endblock %}
